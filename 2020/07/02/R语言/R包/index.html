<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>R语言 | Mr.Iodin</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">R语言</h1><a id="logo" href="/.">Mr.Iodin</a><p class="description">坠落苹果的两面：极端智慧与极致想象.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">R语言</h1><div class="post-meta">2020-07-02</div><a class="disqus-comment-count" href="/2020/07/02/R%E8%AF%AD%E8%A8%80/R%E5%8C%85/#vcomment"><span class="valine-comment-count" data-xid="/2020/07/02/R%E8%AF%AD%E8%A8%80/R%E5%8C%85/"></span><span> 条评论</span></a><div class="post-content"><h1 id="R语言"><a href="#R语言" class="headerlink" title="R语言"></a>R语言</h1><p>学习内容：</p>
<p>​    泰迪云课堂——R语言编程基础</p>
<h3 id="1-1包定义安装查看"><a href="#1-1包定义安装查看" class="headerlink" title="1.1包定义安装查看"></a>1.1包定义安装查看</h3><p>定义：R函数、数据、预编译代码以一种定义完善的格式组成的集合;</p>
<p>存储目录：library;</p>
<p>函数：.libPaths()显示库所在的位置；library()显示库中有哪些包;</p>
<p>包的安装：命令 install.packages(“<code>package_name</code>“,”dir”);</p>
<p>查看包帮助：library(help=”package_name”);</p>
<p>查看当前环境哪些包的加载：find.package();</p>
<p>加载包：library(package_name)或者require(package_name);</p>
<p>把包的数据加载到内存中：attach(iris);</p>
<p>列出所有安装包：library()；</p>
<p>包的安装：<strong>指从某个CRAN镜像站点下载并将其放入库中的过程，如果要在R中使用它的话，还需要使用library()命令载入这个包。</strong>载入这个包后，就可以使用一系列函数和数据集了。</p>
<p>包安装失败：执行 install.packages(“<code>package_name</code>“）时出现</p>
<p>Warning in install.packages :   unable to access index for repository <a href="https://cran.rstudio.com/src/c" target="_blank" rel="noopener">https://cran.rstudio.com/src/c</a></p>
<p>解决方法：</p>
<p>进入到R的安装目录，编辑/etc/Rprofile.site</p>
<p>添加 options(download.file.method=”libcurl”)，重新打开Rstudio即可</p>
<p>R包内置数据集：R的内置数据集大都包含在<code>datasets</code>的R包中。此R包为R的基础包，它在R的搜索路径中，因此可以直接调用这些数据集。</p>
<p>例如鸢尾花数据集iris：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data&lt;-iris</span><br></pre></td></tr></table></figure>

<p>查看基础包所包含的数据集：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data()</span><br></pre></td></tr></table></figure>

<p>查看本机上所有已安装R包的数据集情况：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data(package=.packages(all.available=<span class="literal">TRUE</span>))</span><br></pre></td></tr></table></figure>

<h3 id="2-1数据对象与数据读写"><a href="#2-1数据对象与数据读写" class="headerlink" title="2.1数据对象与数据读写"></a>2.1数据对象与数据读写</h3><p>赋值语句:</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x&lt;-<span class="number">8</span></span><br><span class="line">a&lt;-<span class="string">'city'</span></span><br></pre></td></tr></table></figure>

<p>R语言常用的数据对象:</p>
<p><img src="C:%5CUsers%5Csn159%5CDesktop%5CR%E8%AF%AD%E8%A8%80%5C%E5%9B%BE%E7%89%87%5CR%E8%AF%AD%E8%A8%80%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1.png" alt="R语言常用的数据对象"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data&lt;- data.frame(c1=c(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>),c2=<span class="number">1</span>:<span class="number">3</span>,c3=<span class="literal">TRUE</span>,c4=<span class="string">'123'</span>,stringsAsFactors = <span class="literal">F</span>)</span><br></pre></td></tr></table></figure>

<p>ps：字符型在读入的时候默认转化为int型，所以要添加<code>stringsAsFactors = F</code></p>
<p>查看数控类型：</p>
<p>class（x）；mode（x）；typeof（x）；</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sapply(data,mode)</span><br><span class="line">sapply(data,class)</span><br><span class="line">sapply(data,typeof)</span><br></pre></td></tr></table></figure>

<p>精度上 typeof&gt;class&gt;mode</p>
<p>判断数据类型：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c4&lt;-<span class="string">'123'</span></span><br><span class="line">is.numeric(c4)</span><br><span class="line">is.character(c4)</span><br><span class="line">is.logical(c4)</span><br></pre></td></tr></table></figure>

<p>数据类型的转换：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c4&lt;-as.numeric(c4)</span><br></pre></td></tr></table></figure>

<h3 id="2-2-1-向量操作"><a href="#2-2-1-向量操作" class="headerlink" title="2.2.1 向量操作"></a>2.2.1 向量操作</h3><p>R语言拥有很多用于存储数据的对象类型，包括向量、矩阵、数组、数据框和列表（5种）。</p>
<p>数据框：R语言中存储数据的一种结构：列表示向量，行表示观测。在同一个数据框中可以存储不同类型（如数值型，字符型）的变量。数据框将是你用来存储数据集的主要数据结构。</p>
<h5 id="向量的创建："><a href="#向量的创建：" class="headerlink" title="向量的创建："></a>向量的创建：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法一</span></span><br><span class="line">x1&lt;-<span class="number">1</span>:<span class="number">5</span></span><br><span class="line">x2&lt;-<span class="literal">TRUE</span></span><br><span class="line">x3&lt;-<span class="string">'A'</span></span><br><span class="line"><span class="comment">#方法二：c函数创建向量</span></span><br><span class="line">x1&lt;-c(<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">x2&lt;-c(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>)</span><br><span class="line">x3&lt;-c(<span class="literal">TRUE</span>,<span class="literal">FALSE</span>,<span class="literal">TRUE</span>)</span><br><span class="line"><span class="comment">#方法三：seq函数创建向量，方便创建等差数列</span></span><br><span class="line">x1&lt;-seq(<span class="number">1</span>,<span class="number">9</span>,by=<span class="number">2</span>) <span class="comment">#1 3 5 7 9</span></span><br><span class="line">x2&lt;-seq(<span class="number">4</span>,by=<span class="number">2</span>,length.out=<span class="number">4</span>)<span class="comment">#4 6 8 10</span></span><br><span class="line"><span class="comment">#方法四：rep,创建重复型</span></span><br><span class="line">x1&lt;-rep(<span class="number">1</span>:<span class="number">4</span>,<span class="number">3</span>) <span class="comment">#1 2 3 4 1 2 3 4 1 2 3 4</span></span><br><span class="line">x2&lt;-rep(c(<span class="number">3</span>,<span class="number">2</span>),c(<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">#3 3 2 2 2</span></span><br><span class="line">x3&lt;-rep(c(<span class="number">3</span>,<span class="number">2</span>),each=<span class="number">2</span> length.out=<span class="number">3</span>) <span class="comment">#3 3 2 each是要求每个元素重复两次，length.out要求数组长度为3</span></span><br><span class="line">x4&lt;-rep(c(<span class="number">3</span>,<span class="number">2</span>),each=<span class="number">2</span>,times=<span class="number">3</span>)<span class="comment">#3 3 2 2 3 3 2 2 3 3 2 2</span></span><br></pre></td></tr></table></figure>

<h5 id="向量索引："><a href="#向量索引：" class="headerlink" title="向量索引："></a>向量索引：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">ve&lt;-c(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="comment">#向量的索引</span></span><br><span class="line">ve[<span class="number">2</span>]</span><br><span class="line">ve[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#向量的删除，原ve不会变</span></span><br><span class="line">ve[-<span class="number">6</span>]</span><br><span class="line">ve[-c(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)] </span><br><span class="line"></span><br><span class="line"><span class="comment">#逻辑型索引</span></span><br><span class="line">ve[c(TURE,<span class="literal">FALSE</span>,TURE,<span class="literal">FALSE</span>,TURE,<span class="literal">FALSE</span>)] <span class="comment">#1 3 5 TURE的话取到,FALSE的话不取</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#名称索引</span></span><br><span class="line">names(ve)&lt;-c(<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'four'</span>,<span class="string">'five'</span>,<span class="string">'six'</span>)</span><br><span class="line">ve[c(<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>)]<span class="comment">##结果为 	one   two three </span></span><br><span class="line">    								   <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span> </span><br><span class="line"><span class="comment">#which函数索引</span></span><br><span class="line">which(ve==<span class="number">1</span>) <span class="comment">#返回ve[1]</span></span><br><span class="line">which(ve==<span class="number">1</span>|<span class="number">3</span>)	<span class="comment">#返回ve[1]和[3]</span></span><br><span class="line">which(ve&gt;<span class="number">1</span> &amp; ve&lt;<span class="number">4</span>) <span class="comment">#返回ve[2]和[3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#返回最大值最小值</span></span><br><span class="line">which.max(ve)</span><br><span class="line">which.min(ve)</span><br><span class="line"></span><br><span class="line"><span class="comment">#subset函数索引</span></span><br><span class="line">subset(ve,ve&gt;<span class="number">1</span> &amp; ve&lt;<span class="number">4</span>) <span class="comment">#返回2,3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#match函数，返回ve中每个元素在c(1,2,4)中对应的一个所遇位置,如果不存在,返回NA</span></span><br><span class="line">match(ve,c(<span class="number">1</span>,<span class="number">2</span>)) <span class="comment">#返回 1  2 NA NA NA NA</span></span><br><span class="line">match(ve,c(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>)) <span class="comment">#返回 1  2 NA  3 NA NA</span></span><br></pre></td></tr></table></figure>

<h5 id="向量添加："><a href="#向量添加：" class="headerlink" title="向量添加："></a>向量添加：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ve&lt;-c(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#在向量中添加元素</span></span><br><span class="line">ve1&lt;-c(ve,c(<span class="number">7</span>,<span class="number">8</span>)) <span class="comment">#此时ve1的值为 1 2 3 4 5 6 7 8</span></span><br><span class="line">ve2&lt;-append(ve,<span class="number">7</span>) <span class="comment">#此时ve2的值为 1 2 3 4 5 6 7 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在某个元素后面追加</span></span><br><span class="line">ve3&lt;-append(ve,<span class="number">5.5</span>,<span class="number">5</span>) <span class="comment">#在第5个元素后面追加5.5,若追加的数为浮点型,则向量会统一强制性的转化为浮点型</span></span><br><span class="line">					  <span class="comment">#此时ve3的值为 1.0 2.0 3.0 4.0 5.0 5.5 6.0 7.0 8.0</span></span><br></pre></td></tr></table></figure>

<h5 id="向量排序："><a href="#向量排序：" class="headerlink" title="向量排序："></a>向量排序：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x&lt;-c(<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment">#升序</span></span><br><span class="line">x1&lt;-sort(x,decreasing=<span class="literal">FALSE</span>)<span class="comment">#返回值为1 2 3 4 5 6</span></span><br><span class="line">x2&lt;-rev(x1)<span class="comment">#反转为降序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符型升序</span></span><br><span class="line">x3&lt;-c(<span class="string">'b'</span>,<span class="string">'a'</span>,<span class="string">'c'</span>)</span><br><span class="line">sort(x3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#排序时保留数据完整性</span></span><br><span class="line">x4&lt;-c(<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="literal">NA</span>)</span><br><span class="line">sort(x4,na.last=TURE)<span class="comment">#返回值为  1  2  3  4  5  6 NA</span></span><br><span class="line">					 <span class="comment">#na.last表示如果数据中出现NA值把它放到最后去</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-2矩阵操作"><a href="#2-2-2矩阵操作" class="headerlink" title="2.2.2矩阵操作"></a>2.2.2矩阵操作</h3><p>向量vector用于表示一维数据，而矩阵matrix可以表示二维数据，使用两个下标表示元素，如A[i,j]。</p>
<p>多维数组array可以描述多维数据。array有一个特征属性叫维数向量（dim属性），它的长度是多维数组的维数，dim内的元素则是对应维度的长度。</p>
<p>矩阵是数组的特殊情况，它具有两个维度。</p>
<h5 id="矩阵的创建："><a href="#矩阵的创建：" class="headerlink" title="矩阵的创建："></a>矩阵的创建：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">x1&lt;-seq(<span class="number">1</span>:<span class="number">10</span>)</span><br><span class="line">x2&lt;-matrix(x1,nrow=<span class="number">5</span>,ncol=<span class="number">2</span>)	<span class="comment">#nrow表示行,ncol表示列</span></span><br><span class="line"><span class="comment">#x2的值为    [,1] [,2]</span></span><br><span class="line"><span class="comment">#	 [1,]    1    6</span></span><br><span class="line"><span class="comment">#	 [2,]    2    7</span></span><br><span class="line"><span class="comment">#	 [3,]    3    8</span></span><br><span class="line"><span class="comment">#	 [4,]    4    9</span></span><br><span class="line"><span class="comment">#	 [5,]    5   10</span></span><br><span class="line"><span class="comment">#在化为矩阵时是按列读取的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#化为按列读取</span></span><br><span class="line">x3&lt;-matrix(x1,nrow=<span class="number">5</span>,ncol=<span class="number">2</span>,byrow=<span class="literal">T</span>)  <span class="comment">#加上 byrow 属性</span></span><br><span class="line"><span class="comment">#x3的值为     [,1] [,2]</span></span><br><span class="line"><span class="comment">#	   [1,]    1    2</span></span><br><span class="line"><span class="comment">#  	   [2,]    3    4</span></span><br><span class="line"><span class="comment">#	   [3,]    5    6</span></span><br><span class="line"><span class="comment">#	   [4,]    7    8</span></span><br><span class="line"><span class="comment">#	   [5,]    9   10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置索引的名称</span></span><br><span class="line">x4&lt;-matrix(x1,nrow=<span class="number">5</span>,ncol=<span class="number">2</span>,byrow=<span class="literal">T</span>,dimnames = list(c(<span class="string">'r1'</span>,<span class="string">'r2'</span>,<span class="string">'r3'</span>,<span class="string">'r4'</span>,<span class="string">'r5'</span>),c(<span class="string">'c1'</span>,<span class="string">'c2'</span>))) <span class="comment">#使用dimnames属性</span></span><br><span class="line"><span class="comment">#x4的值为   c1 c2</span></span><br><span class="line"><span class="comment">#	   r1  1  2</span></span><br><span class="line"><span class="comment">#	   r2  3  4</span></span><br><span class="line"><span class="comment">#	   r3  5  6</span></span><br><span class="line"><span class="comment">#	   r4  7  8</span></span><br><span class="line"><span class="comment">#	   r5  9 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建对角矩阵</span></span><br><span class="line">diag(x1)</span><br><span class="line"><span class="comment">#       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span></span><br><span class="line"><span class="comment"># [1,]    1    0    0    0    0    0    0    0    0     0</span></span><br><span class="line"><span class="comment"># [2,]    0    2    0    0    0    0    0    0    0     0</span></span><br><span class="line"><span class="comment"># [3,]    0    0    3    0    0    0    0    0    0     0</span></span><br><span class="line"><span class="comment"># [4,]    0    0    0    4    0    0    0    0    0     0</span></span><br><span class="line"><span class="comment"># [5,]    0    0    0    0    5    0    0    0    0     0</span></span><br><span class="line"><span class="comment"># [6,]    0    0    0    0    0    6    0    0    0     0</span></span><br><span class="line"><span class="comment"># [7,]    0    0    0    0    0    0    7    0    0     0</span></span><br><span class="line"><span class="comment"># [8,]    0    0    0    0    0    0    0    8    0     0</span></span><br><span class="line"><span class="comment"># [9,]    0    0    0    0    0    0    0    0    9     0</span></span><br><span class="line"><span class="comment">#[10,]    0    0    0    0    0    0    0    0    0    10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建单位矩阵</span></span><br><span class="line">x5&lt;-rep(<span class="number">1</span>，<span class="number">5</span>)</span><br><span class="line">diag(x5)</span><br><span class="line"><span class="comment">#     [,1] [,2] [,3] [,4] [,5]</span></span><br><span class="line"><span class="comment">#[1,]    1    0    0    0    0</span></span><br><span class="line"><span class="comment">#[2,]    0    1    0    0    0</span></span><br><span class="line"><span class="comment">#[3,]    0    0    1    0    0</span></span><br><span class="line"><span class="comment">#[4,]    0    0    0    1    0</span></span><br><span class="line"><span class="comment">#[5,]    0    0    0    0    1</span></span><br></pre></td></tr></table></figure>

<h5 id="矩阵的索引："><a href="#矩阵的索引：" class="headerlink" title="矩阵的索引："></a>矩阵的索引：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根据行列位置</span></span><br><span class="line">x2[<span class="number">4</span>,<span class="number">2</span>] <span class="comment">#返回9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#根据索引名称</span></span><br><span class="line">x4[<span class="string">'r1'</span>,<span class="string">'c2'</span>] <span class="comment">#返回2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#对矩阵指定位置进行修改</span></span><br><span class="line">x4[<span class="string">'r1'</span>,<span class="string">'c2'</span>]=<span class="number">0</span></span><br><span class="line"><span class="comment">#此时x4的值为</span></span><br><span class="line"><span class="comment">#   c1 c2</span></span><br><span class="line"><span class="comment">#r1  1  0</span></span><br><span class="line"><span class="comment">#r2  3  4</span></span><br><span class="line"><span class="comment">#r3  5  6</span></span><br><span class="line"><span class="comment">#r4  7  8</span></span><br><span class="line"><span class="comment">#r5  9 10</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/03/PARvhnwSoOs3I9e.png" alt="矩阵的索引.png"></p>
<h5 id="矩阵的合并："><a href="#矩阵的合并：" class="headerlink" title="矩阵的合并："></a>矩阵的合并：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#行合并</span></span><br><span class="line">my&lt;-c(<span class="number">11</span>,<span class="number">12</span>)</span><br><span class="line">a1&lt;-rbind(x4,my)<span class="comment">#使用rbind函数</span></span><br><span class="line"><span class="comment">#a1的值为</span></span><br><span class="line"><span class="comment">#   c1 c2</span></span><br><span class="line"><span class="comment">#r1  1  0</span></span><br><span class="line"><span class="comment">#r2  3  4</span></span><br><span class="line"><span class="comment">#r3  5  6</span></span><br><span class="line"><span class="comment">#r4  7  8</span></span><br><span class="line"><span class="comment">#r5  9 10</span></span><br><span class="line"><span class="comment">#my 11 12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列合并</span></span><br><span class="line">c3&lt;-c(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line">a2&lt;-cbind(x4,c3)</span><br><span class="line"><span class="comment">#a2的值为</span></span><br><span class="line"><span class="comment">#   c1 c2 c3</span></span><br><span class="line"><span class="comment">#r1  1  0  1</span></span><br><span class="line"><span class="comment">#r2  3  4  3</span></span><br><span class="line"><span class="comment">#r3  5  6  5</span></span><br><span class="line"><span class="comment">#r4  7  8  7</span></span><br><span class="line"><span class="comment">#r5  9 10  9</span></span><br></pre></td></tr></table></figure>

<h5 id="矩阵的拉直："><a href="#矩阵的拉直：" class="headerlink" title="矩阵的拉直："></a>矩阵的拉直：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A&lt;-matrix(<span class="number">1</span>:<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">#A的值为</span></span><br><span class="line"><span class="comment">#     [,1] [,2] [,3]</span></span><br><span class="line"><span class="comment">#[1,]    1    3    5</span></span><br><span class="line"><span class="comment">#[2,]    2    4    6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#将其转化为向量形式</span></span><br><span class="line">as.vector(A)<span class="comment">#返回值为[1] 1 2 3 4 5 6</span></span><br></pre></td></tr></table></figure>

<h5 id="矩阵的运算"><a href="#矩阵的运算" class="headerlink" title="矩阵的运算:"></a>矩阵的运算:</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A&lt;-matrix(<span class="number">1</span>:<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#各行/列求和</span></span><br><span class="line">rowSums(A)<span class="comment">#返回值为[1]  9 12</span></span><br><span class="line">colSums(A)<span class="comment">#返回值为[1]  3  7 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#各行求均值</span></span><br><span class="line">rowMeans(A)<span class="comment">#返回值为[1] 3 4</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/03/YjWErzNKLXPk3dB.png" alt="矩阵运算函数.png"></p>
<h3 id="2-2-3-数组操作"><a href="#2-2-3-数组操作" class="headerlink" title="2.2.3 数组操作"></a>2.2.3 数组操作</h3><p>数组是矩阵的扩展，它把数据的维度扩展到两个以上。可以用array函数方便地创建数组。</p>
<h5 id="数组的创建："><a href="#数组的创建：" class="headerlink" title="数组的创建："></a>数组的创建：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">array1&lt;-array(<span class="number">1</span>:<span class="number">20</span>,dim=c(<span class="number">2</span>,<span class="number">5</span>,<span class="number">2</span>)) <span class="comment">#使用array函数,配上dim属性</span></span><br><span class="line"><span class="comment">#array1的值</span></span><br><span class="line"><span class="comment">#, , 1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     [,1] [,2] [,3] [,4] [,5]</span></span><br><span class="line"><span class="comment">#[1,]    1    3    5    7    9</span></span><br><span class="line"><span class="comment">#[2,]    2    4    6    8   10</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#, , 2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     [,1] [,2] [,3] [,4] [,5]</span></span><br><span class="line"><span class="comment">#[1,]   11   13   15   17   19</span></span><br><span class="line"><span class="comment">#[2,]   12   14   16   18   20</span></span><br></pre></td></tr></table></figure>

<h5 id="数组的索引："><a href="#数组的索引：" class="headerlink" title="数组的索引："></a>数组的索引：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arra1[<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>] <span class="comment">#返回值为[1] 8</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-4数据框操作"><a href="#2-2-4数据框操作" class="headerlink" title="2.2.4数据框操作"></a>2.2.4数据框操作</h3><p>数据框是仅次于最重要的数据对象类型。</p>
<p>在实际操作中，通常会用数据框的的一列代表某一变量属性的所以取值，用一行代表某一样本数据。</p>
<p>data.frame函数可以直接把多个向量建立为一个数据框，并为列设置名称。</p>
<h5 id="数据框的创建："><a href="#数据框的创建：" class="headerlink" title="数据框的创建："></a>数据框的创建：</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(my_datasheet&lt;-data.frame(site=c(<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'A'</span>,<span class="string">'A'</span>,<span class="string">'B'</span>),</span><br><span class="line">                     season=c(<span class="string">'winter'</span>,<span class="string">'summer'</span>,<span class="string">'summer'</span>,<span class="string">'spring'</span>,<span class="string">'fall'</span>),</span><br><span class="line">                     pH=c(<span class="number">7.4</span>,<span class="number">6.3</span>,<span class="number">8.6</span>,<span class="number">7.2</span>,<span class="number">8.9</span>)))</span><br><span class="line"><span class="comment">#返回值为</span></span><br><span class="line"><span class="comment">#	  site season  pH</span></span><br><span class="line"><span class="comment">#	1    A winter 7.4</span></span><br><span class="line"><span class="comment">#	2    B summer 6.3</span></span><br><span class="line"><span class="comment">#	3    A summer 8.6</span></span><br><span class="line"><span class="comment">#	4    A spring 7.2</span></span><br><span class="line"><span class="comment">#	5    B   fall 8.9</span></span><br><span class="line"></span><br><span class="line">id&lt;-c(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">score&lt;-c(<span class="number">90</span>,<span class="number">98</span>,<span class="number">78</span>,<span class="number">54</span>,<span class="number">89</span>)</span><br><span class="line">names&lt;-c(<span class="string">'JIM'</span>,<span class="string">'JACK'</span>,<span class="string">'TIM'</span>,<span class="string">'ROSE'</span>,<span class="string">'GREER'</span>)</span><br><span class="line">(my_fram&lt;-data.frame(a=id,b=score,c=names))</span><br><span class="line"><span class="comment">#返回值为</span></span><br><span class="line"><span class="comment">#  a  b     c</span></span><br><span class="line"><span class="comment">#1 1 90   JIM</span></span><br><span class="line"><span class="comment">#2 2 98  JACK</span></span><br><span class="line"><span class="comment">#3 3 78   TIM</span></span><br><span class="line"><span class="comment">#4 4 54  ROSE</span></span><br><span class="line"><span class="comment">#5 5 89 GREER</span></span><br></pre></td></tr></table></figure>



</div><div class="tags"><a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fa fa-tag"></i>学习笔记</a><a href="/tags/R/"><i class="fa fa-tag"></i>R</a></div><div class="post-nav"><a class="pre" href="/2020/07/02/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/%E4%B8%80%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/">数据的预处理（一）</a><a class="next" href="/2020/06/28/%E6%91%B8%E9%B1%BC%E6%90%9E%E5%BB%BA%E6%A8%A1/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E5%AF%B9%E5%8F%98%E5%8C%96%E8%BF%9B%E8%A1%8C%E5%BB%BA%E6%A8%A1/">对变化进行建模（一）——差分方程</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'FnCDK0bbL7ryORjnC2SjPwDl-gzGzoHsz',
  appKey:'GOqbpUCSSPTsiAOEF814bIBb',
  placeholder:'',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/lua%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">lua基本语法</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 15px;">学习笔记</a> <a href="/tags/R/" style="font-size: 15px;">R</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/" style="font-size: 15px;">数学建模</a> <a href="/tags/%E6%AF%94%E8%B5%9B/" style="font-size: 15px;">比赛</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" style="font-size: 15px;">数据挖掘</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">数据结构</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">操作系统</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/07/04/%E6%AF%94%E8%B5%9B/%E5%9F%BA%E4%BA%8EBi-LSTM-CRF%E5%91%BD%E5%90%8D%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB%E6%B6%89%E7%96%AB%E5%9C%B0%E5%90%8D%E8%87%AA%E5%8A%A8%E6%8F%90%E5%8F%96/">基于Bi-LSTM-CRF命名实体识别涉疫地名自动提取</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/%E6%91%B8%E9%B1%BC%E6%90%9E%E5%BB%BA%E6%A8%A1/%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95%EF%BC%88%E4%BB%A3%E7%A0%81%EF%BC%89/">评价类模型（一）—— 层次分析法（模板）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/%E6%91%B8%E9%B1%BC%E6%90%9E%E5%BB%BA%E6%A8%A1/%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95(%E6%A6%82%E5%BF%B5)/">评价类模型（一）—— 层次分析法（理论）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E2%80%94%E2%80%94%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">操作系统——进程管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/%E4%B8%80%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/">数据的预处理（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/R%E8%AF%AD%E8%A8%80/R%E5%8C%85/">R语言</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/28/%E6%91%B8%E9%B1%BC%E6%90%9E%E5%BB%BA%E6%A8%A1/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E5%AF%B9%E5%8F%98%E5%8C%96%E8%BF%9B%E8%A1%8C%E5%BB%BA%E6%A8%A1/">对变化进行建模（一）——差分方程</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/27/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/3.Lua%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E4%B8%89/">三天Lua语言学习（三）——面向对象与策略编译</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/26/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/2.Lua%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E4%BA%8C/">三天Lua语言学习（二）——基本语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/25/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/1.lua%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E4%B8%80/">三天Lua语言学习（一）——环境配置与基本语法</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">Mr.Iodin.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>